

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Probability &#8212; Think Bayes</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chap01';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bayes’s Theorem" href="chap02.html" />
    <link rel="prev" title="Preface" href="preface.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">Think Bayes</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Think Bayes 2
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapters</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="preface.html">Preface</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap02.html">Bayes’s Theorem</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">Estimating Proportions</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap05.html">Estimating Counts</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">Odds and Addends</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap07.html">Minimum, Maximum, and Mixture</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap08.html">Poisson Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap09.html">Decision Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap10.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap11.html">Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap12.html">Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap13.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap14.html">Survival Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap15.html">Mark and Recapture</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap16.html">Logistic Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap17.html">Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap18.html">Conjugate Priors</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap19_v3.html">MCMC</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap20.html">Approximate Bayesian Computation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="redline.html">The Red Line Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="redline_pymc.html">The Red Line Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="vaccine2.html">Estimating vaccine efficacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="usb.html">Flipping USB Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="sister.html">The Left Handed Sister Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="bayes_dice.html">Bayesian Dice</a></li>
<li class="toctree-l1"><a class="reference internal" href="radiation.html">The Emitter-Detector Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="hospital.html">Grid algorithms for hierarchical models</a></li>
<li class="toctree-l1"><a class="reference internal" href="hospital_birth_rate.html">Comparing birth rates</a></li>
<li class="toctree-l1"><a class="reference internal" href="ok.html">How Many Typos?</a></li>
<li class="toctree-l1"><a class="reference internal" href="bookstore.html">How Many Books?</a></li>
<li class="toctree-l1"><a class="reference internal" href="beta_binomial.html">The All-Knowing Cube of Probability</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/AllenDowney/ThinkBayes2" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chap01.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Probability</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linda-the-banker">Linda the Banker</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fraction-of-bankers">Fraction of Bankers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-probability-function">The Probability Function</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#political-views-and-parties">Political Views and Parties</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conjunction">Conjunction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-probability">Conditional Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-probability-is-not-commutative">Conditional Probability Is Not Commutative</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#condition-and-conjunction">Condition and Conjunction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#laws-of-probability">Laws of Probability</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-1">Theorem 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-2">Theorem 2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-3">Theorem 3</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-law-of-total-probability">The Law of Total Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="probability">
<h1>Probability<a class="headerlink" href="#probability" title="Permalink to this heading">#</a></h1>
<p>The foundation of Bayesian statistics is Bayes’s Theorem, and the foundation of Bayes’s Theorem is conditional probability.</p>
<p>In this chapter, we’ll start with conditional probability, derive Bayes’s Theorem, and demonstrate it using a real dataset.  In the next chapter, we’ll use Bayes’s Theorem to solve problems related to conditional probability.  In the chapters that follow, we’ll make the transition from Bayes’s Theorem to Bayesian statistics, and I’ll explain the difference.</p>
<section id="linda-the-banker">
<h2>Linda the Banker<a class="headerlink" href="#linda-the-banker" title="Permalink to this heading">#</a></h2>
<p>To introduce conditional probability, I’ll use an example from a <a class="reference external" href="https://en.wikipedia.org/wiki/Conjunction_fallacy">famous experiment by Tversky and Kahneman</a>, who posed the following question:</p>
<blockquote>
<div><p>Linda is 31 years old, single, outspoken, and very bright. She majored in philosophy. As a student, she was deeply concerned with issues of discrimination and social justice, and also participated in anti-nuclear demonstrations.  Which is more probable?</p>
<ol class="arabic simple">
<li><p>Linda is a bank teller.</p></li>
<li><p>Linda is a bank teller and is active in the feminist movement.</p></li>
</ol>
</div></blockquote>
<p>Many people choose the second answer, presumably because it seems more consistent with the description.  It seems uncharacteristic if Linda is <em>just</em> a bank teller; it seems more consistent if she is also a feminist.</p>
<p>But the second answer cannot be “more probable”, as the question asks.  Suppose we find 1000 people who fit Linda’s description and 10 of them work as bank tellers.  How many of them are also feminists?  At most, all 10 of them are; in that case, the two options are <em>equally</em> probable.  If fewer than 10 are, the second option is <em>less</em> probable.  But there is no way the second option can be <em>more</em> probable.</p>
<p>If you were inclined to choose the second option, you are in good company.  The biologist <a class="reference external" href="https://doi.org/10.1080/09332480.1989.10554932">Stephen J. Gould wrote</a> :</p>
<blockquote>
<div><p>I am particularly fond of this example because I know that the [second] statement is least probable, yet a little <a class="reference external" href="https://en.wikipedia.org/wiki/Homunculus_argument">homunculus</a> in my head continues to jump up and down, shouting at me, “but she can’t just be a bank teller; read the description.”</p>
</div></blockquote>
<p>If the little person in your head is still unhappy, maybe this chapter will help.</p>
</section>
<section id="id1">
<h2>Probability<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<p>At this point I should provide a definition of “probability”, but that <a class="reference external" href="https://en.wikipedia.org/wiki/Probability_interpretations">turns out to be surprisingly difficult</a>.  To avoid getting stuck before we start, we will use a simple definition for now and refine it later: A <strong>probability</strong> is a fraction of a finite set.</p>
<p>For example, if we survey 1000 people, and 20 of them are bank tellers, the fraction that work as bank tellers is 0.02 or 2%.  If we choose a person from this population at random, the probability that they are a bank teller is 2%.
By “at random” I mean that every person in the dataset has the same chance of being chosen.</p>
<p>With this definition and an appropriate dataset, we can compute probabilities by counting.
To demonstrate, I’ll use data from the <a class="reference external" href="http://gss.norc.org/">General Social Survey</a> (GSS).</p>
<p>I’ll use Pandas to read the data and store it in a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">gss</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;gss_bayes.csv&#39;</span><span class="p">)</span>
<span class="n">gss</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>caseid</th>
      <th>year</th>
      <th>age</th>
      <th>sex</th>
      <th>polviews</th>
      <th>partyid</th>
      <th>indus10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1974</td>
      <td>21.0</td>
      <td>1</td>
      <td>4.0</td>
      <td>2.0</td>
      <td>4970.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1974</td>
      <td>41.0</td>
      <td>1</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>9160.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>1974</td>
      <td>58.0</td>
      <td>2</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>2670.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>1974</td>
      <td>30.0</td>
      <td>1</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>6870.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7</td>
      <td>1974</td>
      <td>48.0</td>
      <td>1</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>7860.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> has one row for each person surveyed and one column for each variable I selected.</p>
<p>The columns are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">caseid</span></code>: Respondent identifier.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">year</span></code>: Year when the respondent was surveyed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">age</span></code>: Respondent’s age when surveyed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sex</span></code>: Male or female.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">polviews</span></code>: Political views on a range from liberal to conservative.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">partyid</span></code>: Political party affiliation, Democrat, Independent, or Republican.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indus10</span></code>: <a class="reference external" href="https://www.census.gov/cgi-bin/sssd/naics/naicsrch?chart=2007">Code</a> for the industry the respondent works in.</p></li>
</ul>
<p>Let’s look at these variables in more detail, starting with <code class="docutils literal notranslate"><span class="pre">indus10</span></code>.</p>
</section>
<section id="fraction-of-bankers">
<h2>Fraction of Bankers<a class="headerlink" href="#fraction-of-bankers" title="Permalink to this heading">#</a></h2>
<p>The code for “Banking and related activities” is 6870, so we can select bankers like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">banker</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;indus10&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6870</span><span class="p">)</span>
<span class="n">banker</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    False
1    False
2    False
3     True
4    False
Name: indus10, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>The result is a Pandas <code class="docutils literal notranslate"><span class="pre">Series</span></code> that contains the Boolean values <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If we use the <code class="docutils literal notranslate"><span class="pre">sum</span></code> function on this <code class="docutils literal notranslate"><span class="pre">Series</span></code>, it treats <code class="docutils literal notranslate"><span class="pre">True</span></code> as 1 and <code class="docutils literal notranslate"><span class="pre">False</span></code> as 0, so the total is the number of bankers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">banker</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>728
</pre></div>
</div>
</div>
</div>
<p>In this dataset, there are 728 bankers.</p>
<p>To compute the <em>fraction</em> of bankers, we can use the <code class="docutils literal notranslate"><span class="pre">mean</span></code> function, which computes the fraction of <code class="docutils literal notranslate"><span class="pre">True</span></code> values in the <code class="docutils literal notranslate"><span class="pre">Series</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">banker</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391155
</pre></div>
</div>
</div>
</div>
<p>About 1.5% of the respondents work in banking, so if we choose a random person from the dataset, the probability they are a banker is about 1.5%.</p>
</section>
<section id="the-probability-function">
<h2>The Probability Function<a class="headerlink" href="#the-probability-function" title="Permalink to this heading">#</a></h2>
<p>I’ll put the code from the previous section in a function that takes a Boolean series and returns a probability:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prob</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Computes the probability of a proposition, A.&quot;&quot;&quot;</span>    
    <span class="k">return</span> <span class="n">A</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>So we can compute the fraction of bankers like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391155
</pre></div>
</div>
</div>
</div>
<p>Now let’s look at another variable in this dataset.
The values of the column <code class="docutils literal notranslate"><span class="pre">sex</span></code> are encoded like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>    <span class="n">Male</span>
<span class="mi">2</span>    <span class="n">Female</span>
</pre></div>
</div>
<p>So we can make a Boolean series that is <code class="docutils literal notranslate"><span class="pre">True</span></code> for female respondents and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">female</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And use it to compute the fraction of respondents who are women.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">female</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5378575776019476
</pre></div>
</div>
</div>
</div>
<p>The fraction of women in this dataset is higher than in the adult U.S. population because <a class="reference external" href="https://gss.norc.org/faq">the GSS does not include people living in institutions</a> like prisons and military housing, and those populations are more likely to be male.</p>
</section>
<section id="political-views-and-parties">
<h2>Political Views and Parties<a class="headerlink" href="#political-views-and-parties" title="Permalink to this heading">#</a></h2>
<p>The other variables we’ll consider are <code class="docutils literal notranslate"><span class="pre">polviews</span></code>, which describes the political views of the respondents, and <code class="docutils literal notranslate"><span class="pre">partyid</span></code>, which describes their affiliation with a political party.</p>
<p>The values of <code class="docutils literal notranslate"><span class="pre">polviews</span></code> are on a seven-point scale:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>	<span class="n">Extremely</span> <span class="n">liberal</span>
<span class="mi">2</span>	<span class="n">Liberal</span>
<span class="mi">3</span>	<span class="n">Slightly</span> <span class="n">liberal</span>
<span class="mi">4</span>	<span class="n">Moderate</span>
<span class="mi">5</span>	<span class="n">Slightly</span> <span class="n">conservative</span>
<span class="mi">6</span>	<span class="n">Conservative</span>
<span class="mi">7</span>	<span class="n">Extremely</span> <span class="n">conservative</span>
</pre></div>
</div>
<p>I’ll define <code class="docutils literal notranslate"><span class="pre">liberal</span></code> to be <code class="docutils literal notranslate"><span class="pre">True</span></code> for anyone whose response is “Extremely liberal”, “Liberal”, or “Slightly liberal”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">liberal</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;polviews&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here’s the fraction of respondents who are liberal by this definition.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">liberal</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.27374721038750255
</pre></div>
</div>
</div>
</div>
<p>If we choose a random person in this dataset, the probability they are liberal is about 27%.</p>
<p>The values of <code class="docutils literal notranslate"><span class="pre">partyid</span></code> are encoded like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>	<span class="n">Strong</span> <span class="n">democrat</span>
<span class="mi">1</span>	<span class="n">Not</span> <span class="n">strong</span> <span class="n">democrat</span>
<span class="mi">2</span>	<span class="n">Independent</span><span class="p">,</span> <span class="n">near</span> <span class="n">democrat</span>
<span class="mi">3</span>	<span class="n">Independent</span>
<span class="mi">4</span>	<span class="n">Independent</span><span class="p">,</span> <span class="n">near</span> <span class="n">republican</span>
<span class="mi">5</span>	<span class="n">Not</span> <span class="n">strong</span> <span class="n">republican</span>
<span class="mi">6</span>	<span class="n">Strong</span> <span class="n">republican</span>
<span class="mi">7</span>	<span class="n">Other</span> <span class="n">party</span>
</pre></div>
</div>
<p>I’ll define <code class="docutils literal notranslate"><span class="pre">democrat</span></code> to include respondents who chose “Strong democrat” or “Not strong democrat”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">democrat</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;partyid&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And here’s the fraction of respondents who are Democrats, by this definition.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3662609048488537
</pre></div>
</div>
</div>
</div>
</section>
<section id="conjunction">
<h2>Conjunction<a class="headerlink" href="#conjunction" title="Permalink to this heading">#</a></h2>
<p>Now that we have a definition of probability and a function that computes it, let’s move on to conjunction.</p>
<p>“Conjunction” is another name for the logical <code class="docutils literal notranslate"><span class="pre">and</span></code> operation.  If you have two <a class="reference external" href="https://en.wikipedia.org/wiki/Proposition">propositions</a>, <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code>, the conjunction <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">and</span> <span class="pre">B</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if both <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> are <code class="docutils literal notranslate"><span class="pre">True</span></code>, and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<p>If we have two Boolean series, we can use the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operator to compute their conjunction.
For example, we have already computed the probability that a respondent is a banker.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391155
</pre></div>
</div>
</div>
</div>
<p>And the probability that they are a Democrat:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3662609048488537
</pre></div>
</div>
</div>
</div>
<p>Now we can compute the probability that a respondent is a banker <em>and</em> a Democrat:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">banker</span> <span class="o">&amp;</span> <span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.004686548995739501
</pre></div>
</div>
</div>
</div>
<p>As we should expect, <code class="docutils literal notranslate"><span class="pre">prob(banker</span> <span class="pre">&amp;</span> <span class="pre">democrat)</span></code> is less than <code class="docutils literal notranslate"><span class="pre">prob(banker)</span></code>, because not all bankers are Democrats.</p>
<p>We expect conjunction to be commutative; that is, <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&amp;</span> <span class="pre">B</span></code> should be the same as <code class="docutils literal notranslate"><span class="pre">B</span> <span class="pre">&amp;</span> <span class="pre">A</span></code>.  To check, we can also compute <code class="docutils literal notranslate"><span class="pre">prob(democrat</span> <span class="pre">&amp;</span> <span class="pre">banker)</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">democrat</span> <span class="o">&amp;</span> <span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.004686548995739501
</pre></div>
</div>
</div>
</div>
<p>As expected, they are the same.</p>
</section>
<section id="conditional-probability">
<h2>Conditional Probability<a class="headerlink" href="#conditional-probability" title="Permalink to this heading">#</a></h2>
<p>Conditional probability is a probability that depends on a condition, but that might not be the most helpful definition.  Here are some examples:</p>
<ul class="simple">
<li><p>What is the probability that a respondent is a Democrat, given that they are liberal?</p></li>
<li><p>What is the probability that a respondent is female, given that they are a banker?</p></li>
<li><p>What is the probability that a respondent is liberal, given that they are female?</p></li>
</ul>
<p>Let’s start with the first one, which we can interpret like this: “Of all the respondents who are liberal, what fraction are Democrats?”</p>
<p>We can compute this probability in two steps:</p>
<ol class="arabic simple">
<li><p>Select all respondents who are liberal.</p></li>
<li><p>Compute the fraction of the selected respondents who are Democrats.</p></li>
</ol>
<p>To select liberal respondents, we can use the bracket operator, <code class="docutils literal notranslate"><span class="pre">[]</span></code>, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected</span> <span class="o">=</span> <span class="n">democrat</span><span class="p">[</span><span class="n">liberal</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">selected</span></code> contains the values of <code class="docutils literal notranslate"><span class="pre">democrat</span></code> for liberal respondents, so <code class="docutils literal notranslate"><span class="pre">prob(selected)</span></code> is the fraction of liberals who are Democrats:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5206403320240125
</pre></div>
</div>
</div>
</div>
<p>A little more than half of liberals are Democrats.  If that result is lower than you expected, keep in mind:</p>
<ol class="arabic simple">
<li><p>We used a somewhat strict definition of “Democrat”, excluding Independents who “lean” democratic.</p></li>
<li><p>The dataset includes respondents as far back as 1974; in the early part of this interval, there was less alignment between political views and party affiliation, compared to the present.</p></li>
</ol>
<p>Let’s try the second example, “What is the probability that a respondent is female, given that they are a banker?”
We can interpret that to mean, “Of all respondents who are bankers, what fraction are female?”</p>
<p>Again, we’ll use the bracket operator to select only the bankers and <code class="docutils literal notranslate"><span class="pre">prob</span></code> to compute the fraction that are female.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected</span> <span class="o">=</span> <span class="n">female</span><span class="p">[</span><span class="n">banker</span><span class="p">]</span>
<span class="n">prob</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7706043956043956
</pre></div>
</div>
</div>
</div>
<p>About 77% of the bankers in this dataset are female.</p>
<p>Let’s wrap this computation in a function.
I’ll define <code class="docutils literal notranslate"><span class="pre">conditional</span></code> to take two Boolean series, <code class="docutils literal notranslate"><span class="pre">proposition</span></code> and <code class="docutils literal notranslate"><span class="pre">given</span></code>, and compute the conditional probability of <code class="docutils literal notranslate"><span class="pre">proposition</span></code> conditioned on <code class="docutils literal notranslate"><span class="pre">given</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">conditional</span><span class="p">(</span><span class="n">proposition</span><span class="p">,</span> <span class="n">given</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Probability of A conditioned on given.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">prob</span><span class="p">(</span><span class="n">proposition</span><span class="p">[</span><span class="n">given</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>We can use <code class="docutils literal notranslate"><span class="pre">conditional</span></code> to compute the probability that a respondent is liberal given that they are female.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">liberal</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">female</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.27581004111500884
</pre></div>
</div>
</div>
</div>
<p>About 28% of female respondents are liberal.</p>
<p>I included the keyword, <code class="docutils literal notranslate"><span class="pre">given</span></code>, along with the parameter, <code class="docutils literal notranslate"><span class="pre">female</span></code>, to make this expression more readable.</p>
</section>
<section id="conditional-probability-is-not-commutative">
<h2>Conditional Probability Is Not Commutative<a class="headerlink" href="#conditional-probability-is-not-commutative" title="Permalink to this heading">#</a></h2>
<p>We have seen that conjunction is commutative; that is, <code class="docutils literal notranslate"><span class="pre">prob(A</span> <span class="pre">&amp;</span> <span class="pre">B)</span></code> is always equal to <code class="docutils literal notranslate"><span class="pre">prob(B</span> <span class="pre">&amp;</span> <span class="pre">A)</span></code>.</p>
<p>But conditional probability is <em>not</em> commutative; that is, <code class="docutils literal notranslate"><span class="pre">conditional(A,</span> <span class="pre">B)</span></code> is not the same as <code class="docutils literal notranslate"><span class="pre">conditional(B,</span> <span class="pre">A)</span></code>.</p>
<p>That should be clear if we look at an example.  Previously, we computed the probability a respondent is female, given that they are banker.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">female</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7706043956043956
</pre></div>
</div>
</div>
</div>
<p>The result shows that the majority of bankers are female.  That is not the same as the probability that a respondent is a banker, given that they are female:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">female</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.02116102749801969
</pre></div>
</div>
</div>
</div>
<p>Only about 2% of female respondents are bankers.</p>
<p>I hope this example makes it clear that conditional probability is not commutative, and maybe it was already clear to you.  Nevertheless, it is a common error to confuse <code class="docutils literal notranslate"><span class="pre">conditional(A,</span> <span class="pre">B)</span></code> and <code class="docutils literal notranslate"><span class="pre">conditional(B,</span> <span class="pre">A)</span></code>.  We’ll see some examples later.</p>
</section>
<section id="condition-and-conjunction">
<h2>Condition and Conjunction<a class="headerlink" href="#condition-and-conjunction" title="Permalink to this heading">#</a></h2>
<p>We can combine conditional probability and conjunction.  For example, here’s the probability a respondent is female, given that they are a liberal Democrat.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">female</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">liberal</span> <span class="o">&amp;</span> <span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.576085409252669
</pre></div>
</div>
</div>
</div>
<p>About 57% of liberal Democrats are female.</p>
<p>And here’s the probability they are a liberal female, given that they are a banker:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">liberal</span> <span class="o">&amp;</span> <span class="n">female</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.17307692307692307
</pre></div>
</div>
</div>
</div>
<p>About 17% of bankers are liberal women.</p>
</section>
<section id="laws-of-probability">
<h2>Laws of Probability<a class="headerlink" href="#laws-of-probability" title="Permalink to this heading">#</a></h2>
<p>In the next few sections, we’ll derive three relationships between conjunction and conditional probability:</p>
<ul class="simple">
<li><p>Theorem 1: Using a conjunction to compute a conditional probability.</p></li>
<li><p>Theorem 2: Using a conditional probability to compute a conjunction.</p></li>
<li><p>Theorem 3: Using <code class="docutils literal notranslate"><span class="pre">conditional(A,</span> <span class="pre">B)</span></code> to compute <code class="docutils literal notranslate"><span class="pre">conditional(B,</span> <span class="pre">A)</span></code>.</p></li>
</ul>
<p>Theorem 3 is also known as Bayes’s Theorem.</p>
<p>I’ll write these theorems using mathematical notation for probability:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(A)\)</span> is the probability of proposition <span class="math notranslate nohighlight">\(A\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(P(A~\mathrm{and}~B)\)</span> is the probability of the conjunction of <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>, that is, the probability that both are true.</p></li>
<li><p><span class="math notranslate nohighlight">\(P(A | B)\)</span> is the conditional probability of <span class="math notranslate nohighlight">\(A\)</span> given that <span class="math notranslate nohighlight">\(B\)</span> is true.  The vertical line between <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span> is pronounced “given”.</p></li>
</ul>
<p>With that, we are ready for Theorem 1.</p>
<section id="theorem-1">
<h3>Theorem 1<a class="headerlink" href="#theorem-1" title="Permalink to this heading">#</a></h3>
<p>What fraction of bankers are female?  We have already seen one way to compute the answer:</p>
<ol class="arabic simple">
<li><p>Use the bracket operator to select the bankers, then</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">mean</span></code> to compute the fraction of bankers who are female.</p></li>
</ol>
<p>We can write these steps like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">female</span><span class="p">[</span><span class="n">banker</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7706043956043956
</pre></div>
</div>
</div>
</div>
<p>Or we can use the <code class="docutils literal notranslate"><span class="pre">conditional</span></code> function, which does the same thing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">female</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7706043956043956
</pre></div>
</div>
</div>
</div>
<p>But there is another way to compute this conditional probability, by computing the ratio of two probabilities:</p>
<ol class="arabic simple">
<li><p>The fraction of respondents who are female bankers, and</p></li>
<li><p>The fraction of respondents who are bankers.</p></li>
</ol>
<p>In other words: of all the bankers, what fraction are female bankers?
Here’s how we compute this ratio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">female</span> <span class="o">&amp;</span> <span class="n">banker</span><span class="p">)</span> <span class="o">/</span> <span class="n">prob</span><span class="p">(</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7706043956043956
</pre></div>
</div>
</div>
</div>
<p>The result is the same.  This example demonstrates a general rule that relates conditional probability and conjunction.  Here’s what it looks like in math notation:</p>
<div class="math notranslate nohighlight">
\[P(A|B) = \frac{P(A~\mathrm{and}~B)}{P(B)}\]</div>
<p>And that’s Theorem 1.</p>
</section>
<section id="theorem-2">
<h3>Theorem 2<a class="headerlink" href="#theorem-2" title="Permalink to this heading">#</a></h3>
<p>If we start with Theorem 1 and multiply both sides by <span class="math notranslate nohighlight">\(P(B)\)</span>, we get Theorem 2.</p>
<div class="math notranslate nohighlight">
\[P(A~\mathrm{and}~B) = P(B) ~ P(A|B)\]</div>
<p>This formula suggests a second way to compute a conjunction: instead of using the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operator, we can compute the product of two probabilities.</p>
<p>Let’s see if it works for <code class="docutils literal notranslate"><span class="pre">liberal</span></code> and <code class="docutils literal notranslate"><span class="pre">democrat</span></code>.  Here’s the result using <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">liberal</span> <span class="o">&amp;</span> <span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.1425238385067965
</pre></div>
</div>
</div>
</div>
<p>And here’s the result using Theorem 2:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">democrat</span><span class="p">)</span> <span class="o">*</span> <span class="n">conditional</span><span class="p">(</span><span class="n">liberal</span><span class="p">,</span> <span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.1425238385067965
</pre></div>
</div>
</div>
</div>
<p>They are the same.</p>
</section>
<section id="theorem-3">
<h3>Theorem 3<a class="headerlink" href="#theorem-3" title="Permalink to this heading">#</a></h3>
<p>We have established that conjunction is commutative.  In math notation, that means:</p>
<div class="math notranslate nohighlight">
\[P(A~\mathrm{and}~B) = P(B~\mathrm{and}~A)\]</div>
<p>If we apply Theorem 2 to both sides, we have</p>
<div class="math notranslate nohighlight">
\[P(B) P(A|B) = P(A) P(B|A)\]</div>
<p>Here’s one way to interpret that: if you want to check <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>, you can do it in either order:</p>
<ol class="arabic simple">
<li><p>You can check <span class="math notranslate nohighlight">\(B\)</span> first, then <span class="math notranslate nohighlight">\(A\)</span> conditioned on <span class="math notranslate nohighlight">\(B\)</span>, or</p></li>
<li><p>You can check <span class="math notranslate nohighlight">\(A\)</span> first, then <span class="math notranslate nohighlight">\(B\)</span> conditioned on <span class="math notranslate nohighlight">\(A\)</span>.</p></li>
</ol>
<p>If we divide through by <span class="math notranslate nohighlight">\(P(B)\)</span>, we get Theorem 3:</p>
<div class="math notranslate nohighlight">
\[P(A|B) = \frac{P(A) P(B|A)}{P(B)}\]</div>
<p>And that, my friends, is Bayes’s Theorem.</p>
<p>To see how it works, let’s compute the fraction of bankers who are liberal, first using <code class="docutils literal notranslate"><span class="pre">conditional</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conditional</span><span class="p">(</span><span class="n">liberal</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.2239010989010989
</pre></div>
</div>
</div>
</div>
<p>Now using Bayes’s Theorem:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">liberal</span><span class="p">)</span> <span class="o">*</span> <span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">liberal</span><span class="p">)</span> <span class="o">/</span> <span class="n">prob</span><span class="p">(</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.2239010989010989
</pre></div>
</div>
</div>
</div>
<p>They are the same.</p>
</section>
</section>
<section id="the-law-of-total-probability">
<h2>The Law of Total Probability<a class="headerlink" href="#the-law-of-total-probability" title="Permalink to this heading">#</a></h2>
<p>In addition to these three theorems, there’s one more thing we’ll need to do Bayesian statistics: the law of total probability.
Here’s one form of the law, expressed in mathematical notation:</p>
<div class="math notranslate nohighlight">
\[P(A) = P(B_1 \mathrm{and} A) + P(B_2 \mathrm{and} A)\]</div>
<p>In words, the total probability of <span class="math notranslate nohighlight">\(A\)</span> is the sum of two possibilities: either <span class="math notranslate nohighlight">\(B_1\)</span> and <span class="math notranslate nohighlight">\(A\)</span> are true or <span class="math notranslate nohighlight">\(B_2\)</span> and <span class="math notranslate nohighlight">\(A\)</span> are true.
But this law applies only if <span class="math notranslate nohighlight">\(B_1\)</span> and <span class="math notranslate nohighlight">\(B_2\)</span> are:</p>
<ul class="simple">
<li><p>Mutually exclusive, which means that only one of them can be true, and</p></li>
<li><p>Collectively exhaustive, which means that one of them must be true.</p></li>
</ul>
<p>As an example, let’s use this law to compute the probability that a respondent is a banker.
We can compute it directly like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391155
</pre></div>
</div>
</div>
</div>
<p>So let’s confirm that we get the same thing if we compute male and female bankers separately.</p>
<p>In this dataset all respondents are designated male or female.  Recently, the GSS Board of Overseers announced that they will add more inclusive gender questions to the survey (you can read more about this issue, and their decision, at <a class="reference external" href="https://gender.stanford.edu/news-publications/gender-news/more-inclusive-gender-questions-added-general-social-survey">https://gender.stanford.edu/news-publications/gender-news/more-inclusive-gender-questions-added-general-social-survey</a>.</p>
<p>We already have a Boolean <code class="docutils literal notranslate"><span class="pre">Series</span></code> that is <code class="docutils literal notranslate"><span class="pre">True</span></code> for female respondents.
Here’s the complementary <code class="docutils literal notranslate"><span class="pre">Series</span></code> for male respondents.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">male</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can compute the total probability of <code class="docutils literal notranslate"><span class="pre">banker</span></code> like this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prob</span><span class="p">(</span><span class="n">male</span> <span class="o">&amp;</span> <span class="n">banker</span><span class="p">)</span> <span class="o">+</span> <span class="n">prob</span><span class="p">(</span><span class="n">female</span> <span class="o">&amp;</span> <span class="n">banker</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391155
</pre></div>
</div>
</div>
</div>
<p>Because <code class="docutils literal notranslate"><span class="pre">male</span></code> and <code class="docutils literal notranslate"><span class="pre">female</span></code> are mutually exclusive and collectively exhaustive (MECE), we get the same result we got by computing the probability of <code class="docutils literal notranslate"><span class="pre">banker</span></code> directly.</p>
<p>Applying Theorem 2, we can also write the law of total probability like this:</p>
<div class="math notranslate nohighlight">
\[P(A) = P(B_1) P(A|B_1) + P(B_2) P(A|B_2)\]</div>
<p>And we can test it with the same example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">prob</span><span class="p">(</span><span class="n">male</span><span class="p">)</span> <span class="o">*</span> <span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">male</span><span class="p">)</span> <span class="o">+</span>
<span class="n">prob</span><span class="p">(</span><span class="n">female</span><span class="p">)</span> <span class="o">*</span> <span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">female</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391153
</pre></div>
</div>
</div>
</div>
<p>When there are more than two conditions, it is more concise to write the law of total probability as a summation:</p>
<div class="math notranslate nohighlight">
\[P(A) = \sum_i P(B_i) P(A|B_i)\]</div>
<p>Again, this holds as long as the conditions, <span class="math notranslate nohighlight">\(B_i\)</span> are mutually exclusive and collectively exhaustive.
As an example, let’s consider <code class="docutils literal notranslate"><span class="pre">polviews</span></code>, which has seven different values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span> <span class="o">=</span> <span class="n">gss</span><span class="p">[</span><span class="s1">&#39;polviews&#39;</span><span class="p">]</span>
<span class="n">B</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>polviews
1.0     1442
2.0     5808
3.0     6243
4.0    18943
5.0     7940
6.0     7319
7.0     1595
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>On this scale, <code class="docutils literal notranslate"><span class="pre">4.0</span></code> represents “Moderate”.
So we can compute the probability of a moderate banker like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">prob</span><span class="p">(</span><span class="n">B</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">B</span><span class="o">==</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.005822682085615744
</pre></div>
</div>
</div>
</div>
<p>And we can use <code class="docutils literal notranslate"><span class="pre">sum</span></code> and a <a class="reference external" href="https://www.johndcook.com/blog/2020/01/15/generator-expression/">generator expression</a> to compute the summation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">prob</span><span class="p">(</span><span class="n">B</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">B</span><span class="o">==</span><span class="n">i</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.014769730168391157
</pre></div>
</div>
</div>
</div>
<p>The result is the same.</p>
<p>In this example, using the law of total probability is a lot more work than computing the probability directly, but it will turn out to be useful, I promise.</p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">#</a></h2>
<p>Here’s what we have so far:</p>
<p><strong>Theorem 1</strong> gives us a way to compute a conditional probability using a conjunction:</p>
<div class="math notranslate nohighlight">
\[P(A|B) = \frac{P(A~\mathrm{and}~B)}{P(B)}\]</div>
<p><strong>Theorem 2</strong> gives us a way to compute a conjunction using a conditional probability:</p>
<div class="math notranslate nohighlight">
\[P(A~\mathrm{and}~B) = P(B) P(A|B)\]</div>
<p><strong>Theorem 3</strong>, also known as Bayes’s Theorem, gives us a way to get from <span class="math notranslate nohighlight">\(P(A|B)\)</span> to <span class="math notranslate nohighlight">\(P(B|A)\)</span>, or the other way around:</p>
<div class="math notranslate nohighlight">
\[P(A|B) = \frac{P(A) P(B|A)}{P(B)}\]</div>
<p><strong>The Law of Total Probability</strong> provides a way to compute probabilities by adding up the pieces:</p>
<div class="math notranslate nohighlight">
\[P(A) = \sum_i P(B_i) P(A|B_i)\]</div>
<p>At this point you might ask, “So what?”  If we have all of the data, we can compute any probability we want, any conjunction, or any conditional probability, just by counting.  We don’t have to use these formulas.</p>
<p>And you are right, <em>if</em> we have all of the data.  But often we don’t, and in that case, these formulas can be pretty useful – especially Bayes’s Theorem.
In the next chapter, we’ll see how.</p>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<p><strong>Exercise:</strong> Use <code class="docutils literal notranslate"><span class="pre">conditional</span></code> to compute the following probabilities:</p>
<ul class="simple">
<li><p>What is the probability that a respondent is liberal, given that they are a Democrat?</p></li>
<li><p>What is the probability that a respondent is a Democrat, given that they are liberal?</p></li>
</ul>
<p>Think carefully about the order of the arguments you pass to <code class="docutils literal notranslate"><span class="pre">conditional</span></code>.</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">conditional</span><span class="p">(</span><span class="n">liberal</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">democrat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3891320002215698
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">conditional</span><span class="p">(</span><span class="n">democrat</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">liberal</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5206403320240125
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>Exercise:</strong> Let’s use the tools in this chapter to solve a variation of the Linda problem.</p>
<blockquote>
<div><p>Linda is 31 years old, single, outspoken, and very bright. She majored in philosophy. As a student, she was deeply concerned with issues of discrimination and social justice, and also participated in anti-nuclear demonstrations.  Which is more probable?</p>
<ol class="arabic simple">
<li><p>Linda is a banker.</p></li>
<li><p>Linda is a banker and considers herself a liberal Democrat.</p></li>
</ol>
</div></blockquote>
<p>To answer this question, compute</p>
<ul class="simple">
<li><p>The probability that Linda is a banker, given that she is female,</p></li>
<li><p>The probability that Linda is a banker and a liberal Democrat, given that she is female.</p></li>
</ul>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">conditional</span><span class="p">(</span><span class="n">banker</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">female</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.02116102749801969
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">conditional</span><span class="p">(</span><span class="n">banker</span> <span class="o">&amp;</span> <span class="n">liberal</span> <span class="o">&amp;</span> <span class="n">democrat</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">female</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0023009316887329786
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>Exercise:</strong> There’s a <a class="reference external" href="https://quoteinvestigator.com/2014/02/24/heart-head/">famous quote</a> about young people, old people, liberals, and conservatives that goes something like:</p>
<blockquote>
<div><p>If you are not a liberal at 25, you have no heart. If you are not a conservative at 35, you have no brain.</p>
</div></blockquote>
<p>Whether you agree with this proposition or not, it suggests some probabilities we can compute as an exercise.
Rather than use the specific ages 25 and 35, let’s define <code class="docutils literal notranslate"><span class="pre">young</span></code> and <code class="docutils literal notranslate"><span class="pre">old</span></code> as under 30 or over 65:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">young</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">prob</span><span class="p">(</span><span class="n">young</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.19435991073240008
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">old</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">65</span><span class="p">)</span>
<span class="n">prob</span><span class="p">(</span><span class="n">old</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.17328058429701765
</pre></div>
</div>
</div>
</div>
<p>For these thresholds, I chose round numbers near the 20th and 80th percentiles.  Depending on your age, you may or may not agree with these definitions of “young” and “old”.</p>
<p>I’ll define <code class="docutils literal notranslate"><span class="pre">conservative</span></code> as someone whose political views are “Conservative”, “Slightly Conservative”, or “Extremely Conservative”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conservative</span> <span class="o">=</span> <span class="p">(</span><span class="n">gss</span><span class="p">[</span><span class="s1">&#39;polviews&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">prob</span><span class="p">(</span><span class="n">conservative</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3419354838709677
</pre></div>
</div>
</div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">prob</span></code> and <code class="docutils literal notranslate"><span class="pre">conditional</span></code> to compute the following probabilities.</p>
<ul class="simple">
<li><p>What is the probability that a randomly chosen respondent is a young liberal?</p></li>
<li><p>What is the probability that a young person is liberal?</p></li>
<li><p>What fraction of respondents are old conservatives?</p></li>
<li><p>What fraction of conservatives are old?</p></li>
</ul>
<p>For each statement, think about whether it is expressing a conjunction, a conditional probability, or both.</p>
<p>For the conditional probabilities, be careful about the order of the arguments.
If your answer to the last question is greater than 30%, you have it backwards!</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">prob</span><span class="p">(</span><span class="n">young</span> <span class="o">&amp;</span> <span class="n">liberal</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.06579427875836884
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">conditional</span><span class="p">(</span><span class="n">liberal</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">young</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.338517745302714
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">prob</span><span class="p">(</span><span class="n">old</span> <span class="o">&amp;</span> <span class="n">conservative</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.06701156421180766
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution</span>

<span class="n">conditional</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">given</span><span class="o">=</span><span class="n">conservative</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.19597721609113564
</pre></div>
</div>
</div>
</details>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="preface.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Preface</p>
      </div>
    </a>
    <a class="right-next"
       href="chap02.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Bayes’s Theorem</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linda-the-banker">Linda the Banker</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fraction-of-bankers">Fraction of Bankers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-probability-function">The Probability Function</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#political-views-and-parties">Political Views and Parties</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conjunction">Conjunction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-probability">Conditional Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-probability-is-not-commutative">Conditional Probability Is Not Commutative</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#condition-and-conjunction">Condition and Conjunction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#laws-of-probability">Laws of Probability</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-1">Theorem 1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-2">Theorem 2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#theorem-3">Theorem 3</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-law-of-total-probability">The Law of Total Probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Allen B. Downey
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>